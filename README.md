
# Sofware for Mixing Characterization (MIQUOD)

The software comprises among other things two libraries. The first library, **AForge.Imaging**, incorporates the image processing routines and filters, and the other library, **AForge.Video**. MIQUOD is focused on quantifying mixing using machine vision systems and report measures directly related to the reduction in the segregation of concentration, the reduction in the scale of segregation, and the potential of change in mixing performance. The concentration data type is an array of concentrations associated with pixels intensities and the particle tracking data is a matrix of particle positions within a target area. MIQUOD process each type of data separately. The source code is in three languages.

## C# (Version 1.0)
[C#](https://github.com/enaulad511/MIQUOD_Multi/tree/main/C%23) source code is the basic version for concentracion fields and particle detection of white particles o dark particles.
## Python (Version 2.0)
The python code can be executed from the [MIQUOD_v1.py](https://github.com/enaulad511/MIQUOD_Multi/blob/main/Python/MIQUOD_v1.py) file. 

### Usage
**Image Selection**
The process can be define as:
1. Set the path and the target area of the image (ROI).
```python
im = cv2.imread('3colors_unmixed.png')
# r = cv2.selectROI('Image select', im)
# print(r)
img_to_process = [Mf.BitMap(im)]
LoadedImageInfo = ['Img1']
images_with_references = [[Mf.RefImg(0, 1)]]
```

2. Define variables for the measures.

3. Calculate blobs in the image (for particle detection).
```python
storePartPositions, store_blob_rectangles = Mf.blob_detection_image(
    img_to_process, threshold_value, store_target_areas)
```
4. Initialization of striation thickness
5. Define what data to Calculate
```python
#Mf.mixing_dim_concentration_data(img_to_process, store_target_areas, storeConcentrationData,
#                                 images_with_references, LoadedImageInfo, dark_checkbox, IntensityMeasures,
#                                 Horizontal_Var_diagrams, Vertical_Var_diagrams)
Mf.mixing_dim_particle_data(store_target_areas, LoadedImageInfo, storePartPositions, max_striation_thick)
```
### Considerations
1. Comment and uncoment acordlying what you require.
2. The blob detection part generates plots of the different images generated by the filters.
3. Both type of calculations can be perform, but for particle detection errors can be obtain if no blob is detected and the measures can be wrong values.

## Kotlin (Version 2.0)
[Kotlin](https://github.com/enaulad511/MIQUOD_Multi/tree/main/Kotlin/MIQUOD2/app/src/main/java/com/poc_itesm/miquod2) code are the main *.kt* files for an Android app.

## Authors

- [@enaulad511](https://github.com/enaulad511); [Edisson A. Naula Duchi, PhD](https://www.researchgate.net/profile/Edisson-Naula-Duchi)
- [HÃ©ctor Betancourt](https://mx.linkedin.com/in/hbetancourtc)

## Feedback

If you have any feedback or have any questions, please reach out to us at [edisson.naulad@gmail.com](mailto:edisson.naulad@gmail.com)
